#:schema https://jj-vcs.github.io/jj/latest/config-schema.json

[user]
name = "Garrett"
email = "garrett@iusevimbtw.com"

[signing]
backend = "ssh"
behavior = "force"
key = "~/.ssh/id_ed25519.pub"

[git]
private-commits = "description(regex:'^private(\\(.+\\))?:.+')"
push-new-bookmarks = true

[ui]
bookmark-list-sort-keys = ["committer-date-"]
diff-editor = ":builtin"
merge-editor = "nvimdiff"
pager = [
	"fish",
	"-c",
	# diffs are prefixed with arbitrary length line numbers
	# making indentation with tabs difficult to format
	'sed "s/\t/$(string repeat --count $TAB_WIDTH \x20)/g" | bat --plain'
]
show-cryptographic-signatures = true

[merge-tools.nvimdiff]
program = "sh"
merge-args = [
	"-c",
	'exec $EDITOR "$@"',
	"--",
	"-c",
	"JJdiff",
	"-d",
	"$left",
	"$output",
	"$right"
]

[template-aliases]
"format_detailed_cryptographic_signature(sig)" = "if(sig, 'yes ðŸ”’', 'no ðŸ”“')"
"format_short_cryptographic_signature(sig)" = "if(sig, '', '(no sig)')"

[hints]
resolving-conflicts = false


[revsets]
log = "present(@) | ancestors(immutable_heads().., 2) | present(trunk()) | bookmarks()"
